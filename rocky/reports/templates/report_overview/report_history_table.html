{% load i18n %}

<section>
    <div>
        <h2>{% translate "Report history" %}</h2>
        <p>
            {% blocktranslate trimmed %}
                An overview of all your generated reports.
            {% endblocktranslate %}
        </p>
        <form method="get"
              action="{{ next }}"
              class="inline layout-wide checkboxes_required">
            {% include "report_overview/report_history_form.html" %}

            <p class="de-emphasized">
                {% blocktranslate with length=reports|length total=total_oois %}Showing {{ length }} of {{ total }} objects{% endblocktranslate %}
            </p>
            <table>
                <caption class="visually-hidden">{% translate "Reports:" %}</caption>
                <thead>
                    <tr>
                        <th scope="col">{% translate "ID" %}</th>
                        <th scope="col">{% translate "Name" %}</th>
                        <th scope="col">{% translate "Report type" %}</th>
                        <th scope="col">{% translate "Objects" %}</th>
                        <th scope="col">{% translate "Reference date" %}</th>
                        <th scope="col">{% translate "Creation date" %}</th>
                    </tr>
                </thead>
                <tbody>
                    {% for report in reports %}
                        <tr>
                            <td>
                                <a href="{% url "generate_report_view" organization.code %}?report_id={{ report.reference }}"
                                   title="{% translate "Shows report detail" %}">{{ report.reference }}</a>
                            </td>
                            <td>{{ report.name }}</td>
                            <td>{{ report.report_type }}</td>
                            <td>{{ report.input_ooi }}</td>
                            <td>{{ report.observed_at }}</td>
                            <td>{{ report.date_generated }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </form>
        {% include "partials/list_paginator.html" %}

    </div>
</section>
